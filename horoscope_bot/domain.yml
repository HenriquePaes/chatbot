version: "3.1"

slots:
  horoscope_sign:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: get_horoscope
  DD:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: get_horoscope
  MM:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: get_horoscope
  subscribe:
    type: bool
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: subscription

intents:
  - greeting
  - get_horoscope
  - subscription
  - dob_intent

responses:
  utter_greet:
  - text: "Hello! How are you doing today?"

  utter_ask_horoscope_sign:
  - text: "What is your horoscope sign?"

  utter_ask_dob:
  - text: "What is your DOB in DD-MM format?"

  utter_subscribe:
  - text: "Do you want to subscribe for daily updates?"

  utter_goodbye:
    - text: Bye! See you later.

actions:
  - utter_greet
  - utter_ask_horoscope_sign
  - utter_ask_dob
  - utter_subscribe
  - get_todays_horoscope
  - subscribe_user

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
